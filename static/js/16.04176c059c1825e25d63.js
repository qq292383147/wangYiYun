webpackJsonp([16],{"6W5M":function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("Dd8w"),n=s.n(e),i=s("NYxO"),o=s("C1C0"),l=s("s9E1"),u=s("gyMJ"),r={name:"",data:function(){return{albumInfo:[],load:!0,listId:0}},components:{songListPage:l.a,songList:o.a},created:function(){},activated:function(){this.load=!0;var t=this.$route.params.albumId,a=this.$route.params.idxId,s=this.$route.params.dishId;console.log(this.$route.params),this.listId=+t,t?this._getInfo(t):a?this._getIdxInfo(a):s?this._getDishInfo(s):0!==Number(t)&&(Number(t)||this.$router.go(-1))},computed:n()({},Object(i.c)({audioSong:"AUDIO_ING_SONG"})),methods:n()({_getInfo:function(t){var a=this;u.a.albumDetailFn(t).then(function(t){var s=t.data;200===s.code&&(a.albumInfo=s.playlist,a.load=!1)}).catch(function(t){console.log(t)})},_getIdxInfo:function(t){var a=this;u.a.idxListFn(t).then(function(t){var s=t.data;200===s.code&&(a.albumInfo=s.playlist,a.load=!1)})},_getDishInfo:function(t){var a=this;u.a.getDishInfoFn(t).then(function(t){var s=t.data;200===s.code&&(a.albumInfo=s,a.load=!1)})},setAudioList:function(t,a){console.log("111",t),this.selectPlay({list:this.albumInfo.tracks,index:a})},startPlay:function(){this.startPlayAll({list:this.albumInfo.tracks})}},Object(i.b)(["selectPlay","startPlayAll"])),destroyed:function(){this.albumInfo=[],this.load=!0}},c={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("song-list-page",{attrs:{title:"歌单",load:t.load,imgUrl:t.albumInfo.coverImgUrl?t.albumInfo.coverImgUrl:t.albumInfo.album?t.albumInfo.album.picUrl:"",albumTitle:t.albumInfo.name?t.albumInfo.name:t.albumInfo.album?t.albumInfo.album.name:"",listId:t.listId,creatorImgUrl:t.albumInfo.creator?t.albumInfo.creator.avatarUrl:t.albumInfo.album?t.albumInfo.album.artist.picUrl:"",author:t.albumInfo.creator?t.albumInfo.creator.nickname:t.albumInfo.album?t.albumInfo.album.artist.name:"",description:t.albumInfo.description?t.albumInfo.description:t.albumInfo.album?t.albumInfo.album.description:"",commentCount:t.albumInfo.commentCount?t.albumInfo.commentCount:t.albumInfo.album?t.albumInfo.album.info.commentCount:0,shareCount:t.albumInfo.shareCount?t.albumInfo.shareCount:t.albumInfo.album?t.albumInfo.album.info.shareCount:0,trackCount:t.albumInfo.trackCount?t.albumInfo.trackCount:t.albumInfo.album?t.albumInfo.album.size:0,subscribedCount:t.albumInfo.subscribedCount,subscribed:t.albumInfo.subscribed,isSubIn:t.albumInfo.subscribed,playCount:t.albumInfo.playCount},on:{startPlayAll:t.startPlay}},t._l(t.albumInfo.tracks||t.albumInfo.songs,function(a,e){return s("song-list",{key:e,attrs:{songName:a.name,artists:a.ar,albumName:a.al.name,num:e+1,nowSong:a.id===t.audioSong.id},on:{beginSong:function(s){return t.setAudioList(a,e)}}})}),1)},staticRenderFns:[]};var m=s("VU/8")(r,c,!1,function(t){s("jyD4")},"data-v-fbbe6998",null);a.default=m.exports},jyD4:function(t,a){},qTId:function(t,a){},s9E1:function(t,a,s){"use strict";var e=s("ISPS"),n=s("mdS2"),i=s("gyMJ"),o=function(t){return t?(t>1e8?t=(t/1e8).toFixed(1)+"亿":t>1e4&&(t=(t/1e4).toFixed(1)+"万"),t):""},l={name:"",components:{globalNav:e.a,pageLoading:n.a},data:function(){return{iTitle:this.title,iAlbumTitle:this.albumTitle,listFixed:!1,top:"0.5rem",isSubInItem:!1,subscribedCountItem:0}},watch:{title:function(t){this.iTitle=t},albumTitle:function(t){this.iAlbumTitle=t},subscribedCount:function(t){this.subscribedCountItem=t,this.$refs.collection.style.display=0!==t&&t?"":"none"},isSubIn:function(t){this.isSubInItem=t}},props:{listId:{type:Number},playCount:{type:Number},height:{type:String,default:"6rem"},subscribedCount:{type:Number},subscribed:{type:Boolean},trackCount:{type:Number},shareCount:{type:Number},commentCount:{type:Number},description:{type:String},author:{type:String},creatorImgUrl:{type:String},albumTitle:{type:String},imgUrl:{type:String},title:{type:String},isAlbum:{type:Boolean,default:!0},load:{type:Boolean,default:!0},isSubIn:{type:Boolean,default:!1}},filters:{setCom:function(t){return t?o(t):"评论"},setShare:function(t){return t?o(t):"分享"},setCol:function(t){return t?o(t):""},setPlay:function(t){return t?o(t):""}},computed:{day:function(){var t=(new Date).getDate()<10?"0"+(new Date).getDate():(new Date).getDate();return t},month:function(){var t=(new Date).getMonth()+1<10?"0"+((new Date).getMonth()+1):(new Date).getMonth()+1;return t}},methods:{addPlaylist:function(t){var a=this;i.a.addOrDeletePlaylistFn(1,t).then(function(t){200===t.data.code&&(a.isSubInItem=!0,++a.subscribedCountItem)})},deletePlaylist:function(t){var a=this;i.a.addOrDeletePlaylistFn(2,t).then(function(t){200===t.data.code&&(a.isSubInItem=!1,--a.subscribedCountItem)})},beginAudio:function(){this.$emit("startPlayAll")},returnPage:function(){this.$router.go(-1)},scrollList:function(t){var a=this.$el.scrollTop;this.isAlbum?(this.iTitle=a>=148?this.albumTitle:this.title,a>=250?(this.listFixed=!0,this.top="1.3rem"):(this.listFixed=!1,this.top="0.5rem")):a>=148?(this.listFixed=!0,this.top="1.3rem"):(this.listFixed=!1,this.top="0.5rem")}}},u={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"wrapper",on:{scroll:t.scrollList}},[s("div",{staticClass:"container-top",style:{height:t.height}},[t.isAlbum?t._e():s("global-nav",{staticClass:"fixed pd23",on:{returnPage:t.returnPage}},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.listFixed,expression:"listFixed"}],staticClass:"text"},[t._v(t._s(t.iTitle))])]),t._v(" "),t.isAlbum?s("global-nav",{staticClass:"fixed pd23",on:{returnPage:t.returnPage}},[s("span",{staticClass:"text"},[t._v(t._s(t.iTitle))])]):t._e(),t._v(" "),t.isAlbum?t._e():s("div",{staticClass:"pd23"},[s("div",{staticClass:"date"},[s("span",{staticClass:"day"},[t._v(t._s(t.day))]),t._v(" "),s("span",{staticClass:"month"},[t._v(t._s(t.month))])]),t._v(" "),s("div",{staticClass:"info"},[t._v("查收属于您的今日推荐")])]),t._v(" "),t.isAlbum?s("div",{staticClass:"album-info pd23"},[s("div",{staticClass:"info-top"},[s("div",{staticClass:"img-info"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.imgUrl+"?param=200y200",expression:"imgUrl + '?param=200y200'"}],attrs:{alt:""}}),t._v(" "),s("span",{staticClass:"play-count"},[s("i",{staticClass:"date-song bofang"}),t._v("\n            "+t._s(t._f("setPlay")(t.playCount))+"\n          ")])]),t._v(" "),s("div",{staticClass:"info-con"},[s("p",{staticClass:"album-title"},[t._v(t._s(t.iAlbumTitle))]),t._v(" "),s("div",{staticClass:"creator"},[s("div",{staticClass:"img-info"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.creatorImgUrl+"?param=200y200",expression:"creatorImgUrl + '?param=200y200'"}],attrs:{alt:""}})]),t._v(" "),s("span",[t._v("\n              "+t._s(t.author)+"\n              "),s("i",{staticClass:"date-song iconfontjiantou5"})])]),t._v(" "),s("div",{staticClass:"desc-wrapper"},[s("span",{staticClass:"desc"},[t._v(t._s(t.description))]),t._v(" "),s("i",{staticClass:"date-song iconfontjiantou5"})])])]),t._v(" "),s("div",{staticClass:"icons"},[s("div",{staticClass:"comments"},[s("i",{staticClass:"date-song pinglun"}),t._v(" "),s("span",[t._v(t._s(t._f("setCom")(t.commentCount)))])]),t._v(" "),s("div",{staticClass:"comments"},[s("i",{staticClass:"date-song fenxiang"}),t._v(" "),s("span",[t._v(t._s(t._f("setShare")(t.shareCount)))])]),t._v(" "),t._m(0),t._v(" "),t._m(1)])]):t._e()],1),t._v(" "),s("div",{staticClass:"title pd23",class:{listFixed:t.listFixed}},[s("span",[s("span",{on:{click:t.beginAudio}},[s("i",{staticClass:"date-song cbofang"}),t._v("\n        播放全部\n      ")]),t._v(" "),t.isAlbum?s("span",{staticClass:"count"},[t._v("(共"+t._s(t.trackCount)+"首)")]):t._e()]),t._v(" "),t.isAlbum?t._e():s("span",[s("i",{staticClass:"date-song caidan"}),t._v("\n      多选\n    ")]),t._v(" "),t.isAlbum?s("div",{ref:"collection",staticClass:"collection",class:{bg:!t.isSubInItem}},[s("span",{directives:[{name:"show",rawName:"v-show",value:!t.isSubInItem,expression:"!isSubInItem"}],on:{click:function(a){return t.addPlaylist(t.listId)}}},[t._v("+ 收藏("+t._s(t._f("setCol")(t.subscribedCountItem))+")")]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.isSubInItem,expression:"isSubInItem"}],on:{click:function(a){return t.deletePlaylist(t.listId)}}},[s("i",{staticClass:"date-song wenjianjia"}),t._v("\n        "+t._s(t._f("setCol")(t.subscribedCountItem))+"\n      ")])]):t._e()]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.load,expression:"!load"}],staticClass:"list-info",style:{marginTop:t.top}},[t._t("default")],2),t._v(" "),s("page-loading",{directives:[{name:"show",rawName:"v-show",value:t.load,expression:"load"}]})],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"comments"},[a("i",{staticClass:"date-song xiazai"}),this._v(" "),a("span",[this._v("下载")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"comments"},[a("i",{staticClass:"date-song duoxuankuang"}),this._v(" "),a("span",[this._v("多选")])])}]};var r=s("VU/8")(l,u,!1,function(t){s("qTId")},"data-v-23b23c12",null);a.a=r.exports}});
//# sourceMappingURL=16.04176c059c1825e25d63.js.map