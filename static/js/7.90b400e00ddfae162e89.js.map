{"version":3,"sources":["webpack:///src/base/button.vue","webpack:///./src/base/button.vue?65ea","webpack:///./src/base/button.vue","webpack:///src/base/alert.vue","webpack:///./src/base/alert.vue?ccd8","webpack:///./src/base/alert.vue","webpack:///src/base/loading.vue","webpack:///./src/base/loading.vue?477b","webpack:///./src/base/loading.vue","webpack:///src/pages/loginIndex/components/phonePwd.vue","webpack:///./src/pages/loginIndex/components/phonePwd.vue?13bb","webpack:///./src/pages/loginIndex/components/phonePwd.vue","webpack:///./src/assets/utils/getPhone.js"],"names":["base_button","name","props","title","type","String","default","selectortype_template_index_0_src_base_button","render","_h","this","$createElement","_c","_self","staticClass","attrs","id","_v","ref","for","_s","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","base_alert","alert","isAlert","Boolean","selectortype_template_index_0_src_base_alert","directives","rawName","value","expression","loading","isLoading","base_loading","src_base_loading","phonePwd","data","pwd","alertText","flag","components","loginBtn","methods","clearInput","alertEvent","_this","timer","clearTimeout","setTimeout","_getLoginState","_this2","api","loginStatusFn","then","res","userId","profile","code","accountInfo","$store","commit","localStorage","setItem","avatarUrl","nickname","catch","err","console","log","passwordIsCorrect","phone","Object","getPhone","_isSure","_this3","phoneLoginFn","success","error","LoadingEnd","$router","push","path","location","reload","logon","Loading","changFocus","_this4","$nextTick","x","$refs","inputs","focus","created","components_phonePwd","_vm","placeholder","autofocus","domProps","on","input","$event","target","composing","to","nativeOn","click","is-alert","is-loading","phonePwd_Component","phonePwd_normalizeComponent","RegExp","exec","window","hash"],"mappings":"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","file":"static/js/7.90b400e00ddfae162e89.js","sourcesContent":["<!--\r\n * @Author: 张健龙\r\n * @Begin: 2019-08-14 16:21:48\r\n * @Update: 2019-08-18 13:43:11\r\n * @Update log: 通用 button 登录页按钮\r\n *\r\n * 使用时传入 button 内容\r\n -->\r\n<template>\r\n  <div class=\"btn\">\r\n    <button id=\"btn\"></button>\r\n    <label class=\"label\" for=\"btn\" ref=\"btnText\">{{ title }}</label>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'loginBtn',\r\n  // 定义默认的 button 内容为下一步\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: '下一步'\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import url(\"~styles/global.less\");\r\n.btn {\r\n  .flex-center();\r\n  text-align: center;\r\n  #btn {\r\n    position: absolute;\r\n    clip: rect(0, 0, 0, 0);\r\n  }\r\n  .label {\r\n    box-sizing: border-box;\r\n    margin-top: 30px;\r\n    padding: 8px;\r\n    border-radius: 20px;\r\n    line-height: 20px;\r\n    width: 80%;\r\n    color: #fff;\r\n    background: @bgcolor;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/button.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"btn\"},[_c('button',{attrs:{\"id\":\"btn\"}}),_vm._v(\" \"),_c('label',{ref:\"btnText\",staticClass:\"label\",attrs:{\"for\":\"btn\"}},[_vm._v(_vm._s(_vm.title))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3f871144\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/button.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3f871144\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./button.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./button.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./button.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3f871144\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./button.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3f871144\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/button.vue\n// module id = null\n// module chunks = ","<!--\r\n * @Author: 张健龙\r\n * @Begin: 2019-08-17 17:10:07\r\n * @Update: 2019-09-23 17:38:12\r\n * @Update log: 底部错误信息提示组件\r\n -->\r\n<template>\r\n  <div>\r\n    <transition>\r\n      <!-- 调用时传入要显示的内容 -->\r\n      <div class=\"alert\" v-show=\"isAlert\">{{ alert }}</div>\r\n    </transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'alert',\r\n  props: {\r\n    alert: {\r\n      type: String\r\n    },\r\n    isAlert: {\r\n      type: Boolean\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.alert {\r\n  position: fixed;\r\n  bottom: 3rem;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  padding: 0.13rem;\r\n  background-color: rgba(170, 170, 170, 0.6);\r\n  font-size: smaller;\r\n  border-radius: 8px;\r\n}\r\n.v-enter-active,\r\n.v-leave-active {\r\n  transition: opacity 0.5s;\r\n}\r\n.v-enter,\r\n.v-leave-to {\r\n  opacity: 0;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/alert.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isAlert),expression:\"isAlert\"}],staticClass:\"alert\"},[_vm._v(_vm._s(_vm.alert))])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-62cb98fa\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/alert.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-62cb98fa\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./alert.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./alert.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./alert.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-62cb98fa\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./alert.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-62cb98fa\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/alert.vue\n// module id = null\n// module chunks = ","<!--\r\n * @Author: 张健龙\r\n * @Begin: 2019-08-17 17:10:07\r\n * @Update: 2019-08-17 18:46:40\r\n * @Update log: 页面加载样式(内转圈)\r\n -->\r\n<template>\r\n  <div>\r\n    <transition>\r\n      <div class=\"loading\" v-show=\"isLoading\">\r\n        <p></p>\r\n      </div>\r\n    </transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'alert',\r\n  props: {\r\n    isLoading: {\r\n      type: Boolean\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@keyframes rotate {\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n.loading {\r\n  position: fixed;\r\n  bottom: 5rem;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  padding: 0.13rem;\r\n  font-size: smaller;\r\n  border-radius: 8px;\r\n  p {\r\n    width: 50px;\r\n    height: 50px;\r\n    border: 3px solid #ccc;\r\n    border-top-color: #666;\r\n    border-radius: 50%;\r\n    margin: 0 auto;\r\n    animation: rotate 1s linear infinite;\r\n  }\r\n}\r\n.v-enter-active,\r\n.v-leave-active {\r\n  transition: opacity 0.5s;\r\n}\r\n.v-enter,\r\n.v-leave-to {\r\n  opacity: 0;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/loading.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isLoading),expression:\"isLoading\"}],staticClass:\"loading\"},[_c('p')])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b077a184\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/loading.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b077a184\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./loading.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./loading.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./loading.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b077a184\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./loading.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b077a184\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/loading.vue\n// module id = null\n// module chunks = ","<!--\r\n * @Author: 张健龙\r\n * @Begin: 2019-08-14 15:42:41\r\n * @Update: 2019-10-11 08:15:10\r\n * @Update log: 手机号登录密码页面\r\n -->\r\n<template>\r\n  <div class=\"wrapper\">\r\n    <div class=\"inp border-bottom\">\r\n      <input type=\"password\" v-model=\"pwd\" placeholder=\"请输入密码\" ref=\"inputs\" autofocus=\"autofocus\" />\r\n      <router-link to=\"/forget\">忘记密码</router-link>\r\n    </div>\r\n    <login-btn @click.native=\"logon\" :title=\"title\"></login-btn>\r\n    <!-- 设置提示语 -->\r\n    <alert :is-alert=\"alert\" :alert=\"alertText\"></alert>\r\n    <loading :is-loading=\"loading\"></loading>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getPhone } from 'utils/getPhone'\r\nimport loginBtn from 'base/button'\r\nimport alert from 'base/alert'\r\nimport loading from 'base/loading'\r\nimport api from 'api'\r\nexport default {\r\n  name: 'phonePwd',\r\n  data () {\r\n    return {\r\n      pwd: '',\r\n      alert: false,\r\n      alertText: '用户名或密码错误',\r\n      title: '登录',\r\n      loading: false,\r\n      flag: true\r\n    }\r\n  },\r\n  components: {\r\n    loginBtn,\r\n    alert,\r\n    loading\r\n  },\r\n  methods: {\r\n    /**\r\n     * 输入框内容为空\r\n     */\r\n    clearInput () {\r\n      this.pwd = ''\r\n    },\r\n    /**\r\n     * 提示组件的事件\r\n     */\r\n    alertEvent () {\r\n      // 如果输入内容不合法，提示组件显示\r\n      // 显示一段时间后隐藏\r\n      if (this.timer) {\r\n        clearTimeout(this.timer)\r\n        this.timer = null\r\n      }\r\n      this.alert = true\r\n      // 1s 后隐藏组件\r\n      this.timer = setTimeout(() => {\r\n        this.alert = false\r\n      }, 1000)\r\n    },\r\n    /**\r\n     * 登陆成功后存取登录状态及信息\r\n     */\r\n    _getLoginState () {\r\n      api.loginStatusFn()\r\n        .then(res => {\r\n          // 存取用户 id\r\n          let userId = res.data.profile.userId\r\n          if (res.data.code === 200) {\r\n            // 存取用户信息\r\n            let accountInfo = res.data.profile\r\n            // 成功登陆\r\n            // 修改状态为 1\r\n            this.$store.commit('LOGIN_STATE')\r\n            // Vuex在用户刷新的时候loginState会回到默认值false\r\n            // 所以我们需要用到HTML5储存\r\n            // 我们设置一个名为loginState\r\n            localStorage.setItem('loginState', 1)\r\n            // 存入用户头像 昵称\r\n            localStorage.setItem('avatarUrl', accountInfo.avatarUrl)\r\n            localStorage.setItem('nickname', accountInfo.nickname)\r\n            // 存取用户 uid信息\r\n            this.$store.commit('ACCOUNT_UID', userId)\r\n            localStorage.setItem('accountUid', userId)\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    /**\r\n     * 判断密码是否正确\r\n     * @param pwd 传入密码内容\r\n     */\r\n    passwordIsCorrect (pwd) {\r\n      if (!pwd) {\r\n        this.alertText = '请输入密码'\r\n        this.alertEvent()\r\n      }\r\n      let phone = getPhone()\r\n      this._isSure(phone, pwd)\r\n    },\r\n    _isSure (phone, pwd) {\r\n      api.phoneLoginFn(phone, pwd)\r\n        .then(res => {\r\n          // 密码正确\r\n          // 将账号存下，以后登录时账号输入框自动填写\r\n          localStorage.setItem('account', phone)\r\n          this.success()\r\n        })\r\n        // eslint 报 handle-callback-err 错误 添加 if 判断\r\n        .catch(error => {\r\n          if (error) {\r\n            // 密码错误\r\n            this.error()\r\n          }\r\n        })\r\n    },\r\n    /**\r\n     * 登录成功\r\n     */\r\n    success () {\r\n      // 修改状态为 1\r\n      this.$store.commit('LOGIN_STATE')\r\n      localStorage.setItem('loginState', 1)\r\n      // loading 样式隐藏\r\n      this.LoadingEnd()\r\n      // 存取登陆状态\r\n      this._getLoginState()\r\n      // 跳转到发现页面\r\n      this.$router.push({ path: '/find' })\r\n      location.reload()\r\n    },\r\n    /**\r\n     * 密码错误登录失败\r\n     */\r\n    error () {\r\n      this.alertText = '用户名或密码错误'\r\n      // 显示提示信息\r\n      this.alertEvent()\r\n      // 输入框内容为空\r\n      this.clearInput()\r\n      // loading 样式隐藏\r\n      this.LoadingEnd()\r\n      // 登陆按钮的锁去掉\r\n      this.flag = true\r\n    },\r\n    /**\r\n     * 由于在点击时会触发两次请求 设置flag锁\r\n     * 点击登录按钮要发生的事件\r\n     */\r\n    logon () {\r\n      if (this.flag) {\r\n        this.flag = false\r\n        this.Loading()\r\n        // 判断密码是否正确\r\n        this.passwordIsCorrect(this.pwd)\r\n      }\r\n    },\r\n    /**\r\n     * 登陆完成 按钮内容复位\r\n     * loading样式隐藏\r\n     */\r\n    LoadingEnd () {\r\n      // 将按钮内容设置为 登录.\r\n      this.title = '登录'\r\n      // 页面显示loading 样式\r\n      this.loading = false\r\n    },\r\n    /**\r\n     * 登录中的 loading 设置\r\n     */\r\n    Loading () {\r\n      // 将按钮内容设置为 登录中...\r\n      this.title = '登录中...'\r\n      // 页面显示loading 样式\r\n      this.loading = true\r\n    },\r\n    // 在vue生命周期的created()钩子函数进行的DOM操作要放在Vue.nextTick()的回调函数中，\r\n    // 因为created()钩子函数执行的时候DOM并未进行任何渲染，而此时进行DOM操作是徒劳的，所以此处一定要将DOM操作的JS代码放进Vue.nextTick()的回调函数中。\r\n    changFocus () {\r\n      this.$nextTick(x => {\r\n        this.$refs.inputs.focus()\r\n      })\r\n    }\r\n  },\r\n  created () {\r\n    this.changFocus()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import url(\"~styles/global.less\");\r\n\r\n.wrapper {\r\n  box-sizing: border-box;\r\n  padding: 0.23rem;\r\n  .inp {\r\n    padding-bottom: 0.1rem;\r\n    display: flex;\r\n    align-items: center;\r\n    margin-top: 1rem;\r\n    input[type=\"password\"] {\r\n      // IE：不管该行有没有文字，光标高度与font-size一致。\r\n      // FF：该行有文字时，光标高度与font-size一致。该行无文字时，光标高度与input的height一致。\r\n      // Chrome：该行无文字时，光标高度与line-height一致；该行有文字时，光标高度从input顶部到文字底部(这两种情况都是在有设定line-height的时候)，如果没有line-height，则是与font-size一致。\r\n      // 解决的方案：\r\n      // 给input的height设定一个较小的高度，然后用padding去填充，基本上可以解决所有浏览器的问题\r\n      height: 16px;\r\n      padding: 4px 0px;\r\n      font-size: 0.24rem;\r\n      // ---------------------------\r\n      margin-left: 10px;\r\n      flex: 1;\r\n      // 修改 input 输入框里闪烁光标的颜色\r\n      caret-color: @bgcolor;\r\n    }\r\n  }\r\n  .border-bottom::before {\r\n    border-color: #aaa;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/loginIndex/components/phonePwd.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"inp border-bottom\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.pwd),expression:\"pwd\"}],ref:\"inputs\",attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码\",\"autofocus\":\"autofocus\"},domProps:{\"value\":(_vm.pwd)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.pwd=$event.target.value}}}),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"/forget\"}},[_vm._v(\"忘记密码\")])],1),_vm._v(\" \"),_c('login-btn',{attrs:{\"title\":_vm.title},nativeOn:{\"click\":function($event){return _vm.logon($event)}}}),_vm._v(\" \"),_c('alert',{attrs:{\"is-alert\":_vm.alert,\"alert\":_vm.alertText}}),_vm._v(\" \"),_c('loading',{attrs:{\"is-loading\":_vm.loading}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-95db33a0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/loginIndex/components/phonePwd.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-95db33a0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./phonePwd.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./phonePwd.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./phonePwd.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-95db33a0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./phonePwd.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-95db33a0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/loginIndex/components/phonePwd.vue\n// module id = null\n// module chunks = ","/*\r\n * @Author: 张健龙\r\n * @Begin: 2019-08-26 13:35:48\r\n * @Update: 2019-08-26 13:47:13\r\n * @Update log: 更新日志\r\n */\r\nexport function getPhone () {\r\n  // 创建一个正则表达式\r\n  let reg = new RegExp(/\\d*$/)\r\n  // window.location.hash 返回从 “#” 开始的 url\r\n  // 返回一个数组（未匹配到则返回 null）\r\n  let phone = reg.exec(window.location.hash)[0]\r\n  return phone\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/utils/getPhone.js"],"sourceRoot":""}