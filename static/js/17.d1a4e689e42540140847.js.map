{"version":3,"sources":["webpack:///src/base/audioAllTitle.vue","webpack:///./src/base/audioAllTitle.vue?dee8","webpack:///./src/base/audioAllTitle.vue","webpack:///src/pages/recentlyPlayed/index.vue","webpack:///./src/pages/recentlyPlayed/index.vue?caac","webpack:///./src/pages/recentlyPlayed/index.vue"],"names":["audioAllTitle","name","props","trackCount","type","Number","methods","beginAudio","this","$emit","base_audioAllTitle","render","_h","$createElement","_c","_self","staticClass","on","click","_v","_s","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","recentlyPlayed","data","recordList","computed","extends_default","Object","vuex_esm","audioSong","created","_getRecord","setRuleArr","songArr","forEach","element","push","song","_this","uid","localStorage","getItem","api","userRecordFn","then","res","weekData","length","catch","err","console","log","returnPage","$router","go","beginAudioAll","startPlayAll","list","setAudioList","item","index","selectPlay","components","generalNav","songList","pages_recentlyPlayed","_vm","attrs","_l","key","songName","artists","ar","albumName","al","num","nowSong","id","beginSong","$event"],"mappings":"iGAuBA,IAAAA,GACAC,KAAA,GACAC,OACAC,YACAC,KAAAC,SAGAC,SAEAC,WAFA,WAGAC,KAAAC,MAAA,oBC9BeC,GADEC,OAFjB,WAA0B,IAAaC,EAAbJ,KAAaK,eAA0BC,EAAvCN,KAAuCO,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,UAAoBF,EAAA,QAAAA,EAAA,QAAwBG,IAAIC,MAAhIV,KAAgID,cAAwBO,EAAA,KAAUE,YAAA,8BAAlKR,KAA0MW,GAAA,wBAA1MX,KAA0MW,GAAA,KAAAL,EAAA,QAAwDE,YAAA,UAAlQR,KAAsRW,GAAA,KAAtRX,KAAsRY,GAAtRZ,KAAsRL,YAAA,aAE/RkB,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACExB,EACAU,GATF,EAVA,SAAAe,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,EAAAJ,EAAiB,iLCMhCK,GACA1B,KAAA,GACA2B,KAFA,WAGA,OACAzB,WAAA,EACA0B,gBAGAC,SAAYC,OACZC,OAAAC,EAAA,EAAAD,EAAAE,UAAA,oBAEAC,QAXA,WAYA3B,KAAA4B,cAEA9B,QAAWyB,KACXM,WADA,SACAT,GACA,IAAAU,KAIA,OAHAV,EAAAW,QAAA,SAAAC,GACAF,EAAAG,KAAAD,EAAAE,QAEAJ,GAEAF,WARA,WAQA,IAAAO,EAAAnC,KAEAoC,EAAAC,aAAAC,QAAA,cACMC,EAAA,EAANC,aAAAJ,GACAK,KAAA,SAAAC,GACAP,EAAAd,WAAAc,EAAAN,WAAAa,EAAAtB,KAAAuB,UACAR,EAAAxC,WAAAwC,EAAAd,WAAAuB,SAEAC,MAAA,SAAAC,GACAC,QAAAC,IAAAF,MAGAG,WApBA,WAqBAjD,KAAAkD,QAAAC,IAAA,IAEAC,cAvBA,WAwBApD,KAAAqD,cACAC,KAAAtD,KAAAqB,cAGAkC,aA5BA,SA4BAC,EAAAC,GACAzD,KAAA0D,YACAJ,KAAAtD,KAAAqB,WACAoC,YAGAjC,OAAAC,EAAA,EAAAD,EAAA,+BAEAmC,YACAC,aAAA,EACApE,gBAAA,EACAqE,SAAA3B,EAAA,IClFe4B,GADE3D,OAFjB,WAA0B,IAAA4D,EAAA/D,KAAaI,EAAA2D,EAAA1D,eAA0BC,EAAAyD,EAAAxD,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,wBAAkCF,EAAA,eAAoBG,IAAIwC,WAAAc,EAAAd,cAA6B3C,EAAA,QAAaE,YAAA,SAAmBuD,EAAApD,GAAA,YAAAoD,EAAApD,GAAA,KAAAL,EAAA,mBAAuDE,YAAA,UAAAwD,OAA6BrE,WAAAoE,EAAApE,YAA4Bc,IAAK2C,cAAAW,EAAAX,iBAAmCW,EAAApD,GAAA,KAAAoD,EAAAE,GAAAF,EAAA,oBAAAP,EAAAC,GAA2D,OAAAnD,EAAA,aAAuB4D,IAAAT,EAAAO,OAAiBG,SAAAX,EAAA/D,KAAA2E,QAAAZ,EAAAa,GAAAC,UAAAd,EAAAe,GAAA9E,KAAA+E,IAAAf,EAAA,EAAAgB,QAAAjB,EAAAkB,KAAAX,EAAArC,UAAAgD,IAAuHjE,IAAKkE,UAAA,SAAAC,GAA6B,OAAAb,EAAAR,aAAAC,EAAAC,UAAyC,IAE7oB5C,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEG,EACA2C,GATF,EAVA,SAAA7C,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/17.d1a4e689e42540140847.js","sourcesContent":["<!--\r\n * @Author: 张健龙\r\n * @Begin: 2019-09-28 12:56:39\r\n * @Update: 2019-09-28 12:56:39\r\n * @Update log: 播放全部的那一行\r\n *\r\n * 使用时传入当前列表有几首歌曲，用来显示\r\n -->\r\n<template>\r\n  <div class=\"title\">\r\n    <span>\r\n      <!-- 点击事件，点击 播放全部 按钮 -->\r\n      <span @click=\"beginAudio\">\r\n        <i class=\"audio_all audio_allbofang\"></i>\r\n        播放全部\r\n      </span>\r\n      <!-- 当歌单组件时，需要显示当前歌单总共有多少首歌曲的信息 -->\r\n      <span class=\"count\">(共{{trackCount}}首)</span>\r\n    </span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: '',\r\n  props: {\r\n    trackCount: {\r\n      type: Number\r\n    }\r\n  },\r\n  methods: {\r\n    // 触发播放全部事件\r\n    beginAudio () {\r\n      this.$emit('beginAudioAll')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n@import url(\"//at.alicdn.com/t/font_1439756_kjcwl3bv5jo.css\");\r\n@import url(\"~styles/global.less\");\r\n\r\n.title {\r\n  font-size: 0.3rem;\r\n  height: 0.8rem;\r\n  line-height: 0.8rem;\r\n  .flex-between();\r\n  background-color: #fff;\r\n  .count {\r\n    color: #999;\r\n    font-size: small;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/audioAllTitle.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\"},[_c('span',[_c('span',{on:{\"click\":_vm.beginAudio}},[_c('i',{staticClass:\"audio_all audio_allbofang\"}),_vm._v(\"\\n      播放全部\\n    \")]),_vm._v(\" \"),_c('span',{staticClass:\"count\"},[_vm._v(\"(共\"+_vm._s(_vm.trackCount)+\"首)\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0e3cffed\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/audioAllTitle.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0e3cffed\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./audioAllTitle.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./audioAllTitle.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./audioAllTitle.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0e3cffed\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./audioAllTitle.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0e3cffed\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/audioAllTitle.vue\n// module id = null\n// module chunks = ","<!--\r\n * @Author: 张健龙\r\n * @Begin: 2019-09-27 21:51:00\r\n * @Update: 2019-09-28 13:37:45\r\n * @Update log: 更新日志\r\n -->\r\n<template>\r\n  <div class=\"recentlyPlayed pd23\">\r\n    <general-nav @returnPage=\"returnPage\">\r\n      <span class=\"text\">最近播放</span>\r\n    </general-nav>\r\n    <audio-all-title @beginAudioAll=\"beginAudioAll\" :trackCount=\"trackCount\" class=\"titleMt\"></audio-all-title>\r\n    <song-list\r\n      v-for=\"(item, index) in recordList\"\r\n      :key=\"index\"\r\n      :songName=\"item.name\"\r\n      :artists=\"item.ar\"\r\n      :albumName=\"item.al.name\"\r\n      :num=\"index + 1\"\r\n      @beginSong=\"setAudioList(item, index)\"\r\n      :nowSong=\"item.id === audioSong.id\"\r\n    ></song-list>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from 'vuex'\r\n\r\nimport generalNav from 'base/generalNav'\r\nimport audioAllTitle from 'base/audioAllTitle'\r\nimport songList from 'base/song'\r\nimport api from 'api'\r\nexport default {\r\n  name: '',\r\n  data () {\r\n    return {\r\n      trackCount: 0,\r\n      recordList: []\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters({ audioSong: 'AUDIO_ING_SONG' })\r\n  },\r\n  created () {\r\n    this._getRecord()\r\n  },\r\n  methods: {\r\n    setRuleArr (data) {\r\n      let songArr = []\r\n      data.forEach(element => {\r\n        songArr.push(element.song)\r\n      })\r\n      return songArr\r\n    },\r\n    _getRecord () {\r\n      // 当用户刷新页面时 vuex 状态失效，采用本地存储\r\n      let uid = localStorage.getItem('accountUid')\r\n      api.userRecordFn(uid)\r\n        .then(res => {\r\n          this.recordList = this.setRuleArr(res.data.weekData)\r\n          this.trackCount = this.recordList.length\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    returnPage () {\r\n      this.$router.go(-1)\r\n    },\r\n    beginAudioAll () {\r\n      this.startPlayAll({\r\n        list: this.recordList\r\n      })\r\n    },\r\n    setAudioList (item, index) {\r\n      this.selectPlay({\r\n        list: this.recordList,\r\n        index\r\n      })\r\n    },\r\n    ...mapActions(['selectPlay', 'startPlayAll'])\r\n  },\r\n  components: {\r\n    generalNav,\r\n    audioAllTitle,\r\n    songList\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n@import url(\"~styles/global.less\");\r\n.recentlyPlayed {\r\n  background-color: #fff;\r\n  .text {\r\n    font-size: 0.4rem;\r\n    vertical-align: 5px;\r\n    width: 8rem;\r\n    .ellipsis();\r\n  }\r\n  .titleMt {\r\n    margin-top: 0.2rem;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/recentlyPlayed/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"recentlyPlayed pd23\"},[_c('general-nav',{on:{\"returnPage\":_vm.returnPage}},[_c('span',{staticClass:\"text\"},[_vm._v(\"最近播放\")])]),_vm._v(\" \"),_c('audio-all-title',{staticClass:\"titleMt\",attrs:{\"trackCount\":_vm.trackCount},on:{\"beginAudioAll\":_vm.beginAudioAll}}),_vm._v(\" \"),_vm._l((_vm.recordList),function(item,index){return _c('song-list',{key:index,attrs:{\"songName\":item.name,\"artists\":item.ar,\"albumName\":item.al.name,\"num\":index + 1,\"nowSong\":item.id === _vm.audioSong.id},on:{\"beginSong\":function($event){return _vm.setAudioList(item, index)}}})})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-450865a4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/recentlyPlayed/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-450865a4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-450865a4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-450865a4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/recentlyPlayed/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}